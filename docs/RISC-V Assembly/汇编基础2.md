## RISC-V汇编指令操作对象

RISC-V寄存器

+ 32个通用寄存器，x0-x31
+ 在RISC-V中，hart在执行算术逻辑运算时所操作的数据必须来自寄存器

![image-20220109094319226](C:\Users\25401\AppData\Roaming\Typora\typora-user-images\image-20220109094319226.png)

XLEN是一个变量，可能是32或64或128，具体看机器。比特位是从0开始编，x0是一个特殊的寄存器，不能写，读出来只是一个0。

### RISC-V内存

+ Hart可以执行在寄存器和内存之间的数据读写操作。
+ 读写操作使用字节(Byte)作为基本单位进行寻址。
+ RV32可以访问最多2^32个字节内存空间。

每个字节都有一个地址，在高级语言中(例如C)，指向一个地址就是说指向一个字节的字节。

### RISC-V汇编指令格式

RISC-V指令类型

+ R-type：(寄存器 register)
+ I-type(立即数，占12位 immediate)
+ S-type ( store)
+ B-type(branch)
+ U-type(upper)
+ J-type(jump)

在RV32I中，一条指令占32bits，换算成字节就是4字节。

+ 指令长度: ILEN = 32bits
+ 指令对齐:IALGN = 32bits，指的是从磁盘中取出在内存中对齐，比如32位就是按照4字节对齐。
+ 32个bit划分成不同的域
+ funct3/funct7和opcode一起决定最终的指令类型
+ 指令在内存中按照**小端序**排列

### 主机字节序(本地字节序)

一个**多字节整数**在计算机内存中存储的字节顺序被称为主机节序(HBO)，多字节整数是指像short,int,long这样的。不同类型的CPU的HBO不同，这和CPU的设计有关，分为大端序和小端序。

![image-20220109101652950](C:\Users\25401\AppData\Roaming\Typora\typora-user-images\image-20220109101652950.png)

### 汇编格式

**TODO 大写S 小写s asm文件**

小写s是完整的汇编程序

### RISC-V汇编指令分类

+ 算术运算指令
+ 逻辑运算指令
+ 移位运算指令
+ 内存读写指令
+ 分支与跳转指令

### RISC-V伪指令

第一册25章。

![image-20220109102932754](C:\Users\25401\AppData\Roaming\Typora\typora-user-images\image-20220109102932754.png)

